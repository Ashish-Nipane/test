{
  "id": "ldap-demo",
  "realm": "ldap-demo",
  "enabled": true,
  "sslRequired": "external",
  "privateKey": "MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAKtWsK5O0CtuBpnMvWG+HTG0vmZzujQ2o9WdheQu+BzCILcGMsbDW0YQaglpcO5JpGWWhubnckGGPHfdQ2/7nP9QwbiTK0FbGF41UqcvoaCqU1psxoV88s8IXyQCAqeyLv00yj6foqdJjxh5SZ5z+na+M7Y2OxIBVxYRAxWEnfUvAgMBAAECgYB+Y7yBWHIHF2qXGYi6CVvPxtyNBuFcktHYShLyeBNeY3VujYv3QzSZQpJ1zuoXXQuARMHOovyNiVAhu357pMfx9wSkoKNSXKrQx/+9Vt9lI1pXJxjXedPOjbuI/JZAcrk0u4nOfXG/HGtR5cjoDZYWkYQEtsePCnHlZAb0D7axwQJBAO92f00Tvkc9NU/EGqwR3bPXRMqSX0JnG7XRBvLeJBCZYsQn0s2bLdpy8qsTeAyJg1ZvrEc8qIio5HVqzsvbhpMCQQC3K9A6UK+vmQCNWqsQpdqWPRPN7CPB67FzSmyS8CtMjY6jTvSHrkamggotz2N/5QDr1xG2q7A/3dpkq1bTpTx1AkAXZjjiSz+Yrn57IOqKTeSgIjTypoLwdirbBWXsbZCQnqxsBogu1y8P3ZOg6/IbJ4TR+W+YNnExiW9pmdpDSVxJAkEAplTq6YmLf/F4RuQmox94tyUPbtcYQWg942uZ3HSrXQDOng18kBj5nwpHJAJHYEQb6g2K0E5n5hcX0oKkfdx2YQJAcSKAmFiD7KQ6+vVqJlQwVPvYdTSOeZB7YVV6S4b4slS3ZObsa0yNMWgal/QnCtW5k3f185gCWj6dOLGB5btfxg==",
  "publicKey": "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCrVrCuTtArbgaZzL1hvh0xtL5mc7o0NqPVnYXkLvgcwiC3BjLGw1tGEGoJaXDuSaRllobm53JBhjx33UNv+5z/UMG4kytBWxheNVKnL6GgqlNabMaFfPLPCF8kAgKnsi79NMo+n6KnSY8YeUmec/p2vjO2NjsSAVcWEQMVhJ31LwIDAQAB",
  "requiredCredentials": [ "password" ],
  "clients": [
    {
      "clientId": "finance",
      "enabled": true,
      "bearerOnly": true
    },
    {
      "clientId": "ldap-app",
      "enabled": true,
      "baseUrl": "/ldap-portal",
      "redirectUris": [
        "/ldap-portal/*"
      ],
      "adminUrl": "/ldap-portal",
      "secret": "password",
      "fullScopeAllowed": true,
      "protocolMappers": [
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "username",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "username",
            "claim.name" : "preferred_username",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-full-name-mapper",
          "protocol" : "openid-connect",
          "name" : "full name",
          "config" : {
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "given name",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "firstName",
            "claim.name" : "given_name",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "family name",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "lastName",
            "claim.name" : "family_name",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "email",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "email",
            "claim.name" : "email",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-attribute-mapper",
          "protocol" : "openid-connect",
          "name" : "postal code",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "postal_code",
            "claim.name" : "postal_code",
            "multivalued": "true",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-attribute-mapper",
          "protocol" : "openid-connect",
          "name" : "street",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "street",
            "claim.name" : "street",
            "multivalued": "false",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-attribute-mapper",
          "protocol" : "openid-connect",
          "name" : "picture",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "picture",
            "claim.name" : "picture",
            "multivalued": "false",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        }
      ]
    }
  ],
  "userFederationProviders": [
    {
      "displayName": "ldap-apacheds",
      "providerName": "ldap",
      "priority": 1,
      "fullSyncPeriod": -1,
      "changedSyncPeriod": -1,
      "config": {
        "pagination" : "true",
        "debug" : "false",
        "searchScope" : "1",
        "connectionPooling" : "true",
        "usersDn" : "ou=People,dc=keycloak,dc=org",
        "userObjectClasses" : "inetOrgPerson, organizationalPerson",
        "usernameLDAPAttribute" : "uid",
        "bindDn" : "uid=admin,ou=system",
        "bindCredential" : "secret",
        "rdnLDAPAttribute" : "uid",
        "vendor" : "other",
        "editMode" : "WRITABLE",
        "uuidLDAPAttribute" : "entryUUID",
        "connectionUrl" : "ldap://localhost:10389",
        "syncRegistrations" : "true",
        "authType" : "simple"
      }
    }
  ],
  "userFederationMappers" : [
    {
      "name" : "username",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "uid",
        "user.model.attribute" : "username",
        "is.mandatory.in.ldap" : "true",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "first name",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "cn",
        "user.model.attribute" : "firstName",
        "is.mandatory.in.ldap" : "true",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "last name",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "sn",
        "user.model.attribute" : "lastName",
        "is.mandatory.in.ldap" : "true",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "email",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "mail",
        "user.model.attribute" : "email",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "creation date",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "createTimestamp",
        "user.model.attribute" : "createTimestamp",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "true",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "modify date",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "modifyTimestamp",
        "user.model.attribute" : "modifyTimestamp",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "true",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "postal code",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "postalCode",
        "user.model.attribute" : "postal_code",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "street",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "street",
        "user.model.attribute" : "street",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "picture",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "jpegPhoto",
        "user.model.attribute" : "picture",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "true",
        "is.binary.attribute" : "true"
      }
    },
    {
      "name" : "realm roles",
      "federationMapperType" : "role-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "roles.dn" : "ou=RealmRoles,dc=keycloak,dc=org",
        "membership.ldap.attribute" : "member",
        "role.name.ldap.attribute" : "cn",
        "role.object.classes" : "groupOfNames",
        "mode" : "LDAP_ONLY",
        "use.realm.roles.mapping" : "true"
      }
    },
    {
      "name" : "finance roles",
      "federationMapperType" : "role-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "roles.dn" : "ou=FinanceRoles,dc=keycloak,dc=org",
        "membership.ldap.attribute" : "member",
        "role.name.ldap.attribute" : "cn",
        "role.object.classes" : "groupOfNames",
        "mode" : "LDAP_ONLY",
        "use.realm.roles.mapping" : "false",
        "client.id" : "finance"
      }
    }
  ]
}