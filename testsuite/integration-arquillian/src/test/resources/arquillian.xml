<arquillian xmlns="http://jboss.org/schema/arquillian"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://jboss.org/schema/arquillian
        http://jboss.org/schema/arquillian/arquillian_1_0.xsd">

    <defaultProtocol type="Servlet 3.0" />
	
    <container qualifier="keycloak-remote" />
	
    <group qualifier="wildfly-adapter-group" default="true">
        <container qualifier="keycloak-managed" mode="manual" default="true">
            <configuration>
                <property name="jbossHome">${keycloak.home}</property>
                <property name="javaVmArguments">-Djboss.socket.binding.port-offset=${keycloak.port.offset}</property>
                <property name="managementPort">${keycloak.management.port}</property>
            </configuration>
        </container>
        <container qualifier="keycloak-adapter-managed" mode="manual" >
            <configuration>
                <property name="jbossHome">${wildfly.home}</property>
                <property name="javaVmArguments">-Djboss.socket.binding.port-offset=${keycloak.adapter.port.offset}</property>
                <property name="managementPort">${keycloak.adapter.management.port}</property>
            </configuration>
        </container>
    </group>
    
    <extension qualifier="webdriver">
        <property name="browser">${browser}</property>
    </extension>
    
<!--    <extension qualifier="systemproperties">
        <property name="app.server.base.url">http://localhost:8280</property>
        <property name="my.host.name">localhost</property>
    </extension>-->
    
    <engine>
        <property name="deploymentExportPath">target/deployments</property>
    </engine>
    
</arquillian>
